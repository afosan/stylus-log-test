# stylus-log-test

run the following command to generate abi

```sh
cargo stylus export-abi
```

output

```
/**
 * This file was automatically generated by Stylus and represents a Rust program.
 * For more information, please see [The Stylus SDK](https://github.com/OffchainLabs/stylus-sdk-rs).
 */

interface IContract {
    function withMutableReferenceToSelf() external;

    function withReferenceToSelf() external view;

    function withoutSelf() external pure;
}
```

OR

run the following command to generate abi

```sh
cargo stylus export-abi --json
```

output

```
Warning: SPDX license identifier not provided in source file. Before publishing, consider adding a comment containing "SPDX-License-Identifier: <SPDX-License>" to each source file. Use "SPDX-License-Identifier: UNLICENSED" for non-open-source code. Please see https://spdx.org for more information.
--> <stdin>

Warning: Source file does not specify required compiler version! Consider adding "pragma solidity ^0.8.22;"
--> <stdin>


======= <stdin>:IContract =======
Contract JSON ABI
[{"inputs":[],"name":"withMutableReferenceToSelf","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withReferenceToSelf","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withoutSelf","outputs":[],"stateMutability":"pure","type":"function"}]
```

If you check the [source](/src/lib.rs) code, all three functions do the same thing: emitting an event.

In Solidity, you would expect all three to have `nonpayable` state mutability as emitting an event actually changes the state (so no `pure` or `view`).